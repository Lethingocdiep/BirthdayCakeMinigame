* { box-sizing: border-box; }
body {
    margin: 0;
    font-family: "Comic Sans MS", cursive, sans-serif;
    background: #ffeef4;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

#game {
    width: 800px;
    height: 550px;
    background: #fff5f8;
    border-radius: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    position: relative;
    overflow: hidden;
}

#bg {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: url('images/chibi/chibi.png') no-repeat center center;
    background-size: cover;
    z-index: 1;
    transition: opacity 0.8s;
}
#bg.dimmed { opacity: 0.2; }

/* Nút Start */
#start-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; }
#startBtn {
    position: absolute; bottom: 15%; left: 50%; transform: translateX(-50%);
    padding: 12px 45px; font-size: 32px;
    background: linear-gradient(to bottom, #a2e53d, #63bc0e);
    border: 4px solid #fff; border-radius: 50px; color: white; font-weight: 900;
    cursor: pointer; box-shadow: 0 8px 0 #3e7a06, 0 15px 25px rgba(0,0,0,0.3);
    display: flex; align-items: center; gap: 15px; animation: pulse 1.5s infinite;
}

/* UI Game */
#game-ui {
    width: 100%; height: 100%; display: flex; flex-direction: column;
    align-items: center; z-index: 2; position: relative;
}

#scene { 
    display: flex; width: 100%; justify-content: center; 
    align-items: flex-end; gap: 20px; flex: 1; padding: 0 20px; 
}

#girl, #boy { width: 150px; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

/* Workspace */
#workspace-container { width: 380px; display: flex; flex-direction: column; align-items: center; }
#workspace {
    width: 100%; height: 260px; background: rgba(255,255,255,0.9);
    border: 4px dashed #ffb6c1; border-radius: 25px;
    display: flex; justify-content: center; align-items: center; position: relative;
}

/* Hiệu ứng tương tác */
.dragging { 
    pointer-events: none; position: fixed; z-index: 9999;
    transform: scale(1.1) rotate(5deg); filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
}

.highlight { transform: scale(1.05); filter: brightness(1.1) drop-shadow(0 0 15px #ffeb3b); }

/* Hiệu ứng nhân vật khi ăn */
.chibi-eat { transform: scale(1.2) translateY(-15px) !important; filter: saturate(1.5); }

/* Animation khuấy bột */
@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    20% { transform: translate(-3px, 0px) rotate(-1deg); }
    40% { transform: translate(3px, 2px) rotate(1deg); }
    100% { transform: translate(1px, -1px) rotate(0deg); }
}
.mixing { animation: shake 0.2s infinite; }

#tray { width: 100%; height: 100px; display: flex; justify-content: center; gap: 20px; align-items: center; }
#tray img { width: 70px; cursor: grab; transition: 0.2s; }

#status-text { font-weight: bold; color: #d81b60; margin-bottom: 10px; font-size: 18px; text-align: center; }
#baking-timer { position: absolute; top: 10px; background: #333; color: #0f0; padding: 5px 15px; border-radius: 10px; display: none; font-family: monospace; }

.final-quote { text-align: center; color: #d81b60; font-size: 20px; font-weight: bold; animation: fadeIn 1s forwards; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
